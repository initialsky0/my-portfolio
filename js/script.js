gsap.registerPlugin(ScrollToPlugin);const pinNav=e=>{const n=document.querySelector(".sec-aboutme");return{scene:new ScrollMagic.Scene({offset:-60,triggerElement:n,triggerHook:0}).on("start",e=>{const n=document.querySelector("nav");"FORWARD"===e.scrollDirection?n.classList.add("u-sticky"):n.classList.remove("u-sticky")}).addTo(e),trigger:n}},scrollToSection=(e,n)=>t=>{const i=t.target.getAttribute("href");if(null===i)return null;e.scrollTo(e=>{TweenMax.to(window,1,{scrollTo:{y:e-n,autoKill:!0},ease:Cubic.easeOut})}),i.length>0&&(t.preventDefault(),e.scrollTo(i),window.history&&window.history.pushState&&history.pushState("",document.title,i))},defineNavLink=(e,n,t=0)=>{const i=document.querySelector(n),o=i.children;if(o.length>0)[...o].forEach(n=>n.addEventListener("click",scrollToSection(e,t)));else{if(0!==o.length)throw Error("parameter not accepted.");i.addEventListener("click",scrollToSection(e,t))}},scrollAnimationSlide=(e,n,t=0)=>{let i="";i="string"==typeof n?document.querySelector(n):n;return{scene:new ScrollMagic.Scene({triggerElement:i,triggerHook:.95,offset:-t}).setClassToggle(i,"animation__slideIn").addTo(e),trigger:i}},openMenu=(e,n,t,i,o)=>{n.classList.contains("animation__slideUp")&&(n.classList.remove("animation__slideUp"),e.classList.remove("animation__menuUp")),e.classList.add("animation__menuDown"),n.classList.add("animation__slideDown"),n.classList.remove("u-hidden"),t.classList.add("animation__flipBtn"),setTimeout(()=>{o.classList.remove("u-hidden"),i.classList.add("u-hidden")},150),t.addEventListener("animationend",()=>t.classList.remove("animation__flipBtn"),{once:!0})},closeMenu=(e,n,t,i,o)=>{n.classList.contains("animation__slideDown")&&(n.classList.remove("animation__slideDown"),e.classList.remove("animation__menuDown")),e.classList.add("animation__menuUp"),n.classList.add("animation__slideUp"),n.addEventListener("animationend",()=>n.classList.add("u-hidden"),{once:!0}),t.classList.add("animation__flipBtn"),setTimeout(()=>{i.classList.remove("u-hidden"),o.classList.add("u-hidden")},150),t.addEventListener("animationend",()=>t.classList.remove("animation__flipBtn"),{once:!0})},menuCloseSel=(e,n,t,i,o)=>{[...document.querySelector(".main-nav__list").children].forEach(s=>s.addEventListener("click",()=>{window.innerWidth<=900&&closeMenu(e,n,t,i,o)}))},controlRespMenu=()=>{const e=document.querySelector(".main-nav"),n=document.querySelector(".main-nav__list"),t=document.querySelector(".main-nav__btn"),i=document.querySelector(".main-nav__icon--menu"),o=document.querySelector(".main-nav__icon--close");t.addEventListener("click",()=>{o.classList.contains("u-hidden")?openMenu(e,n,t,i,o):i.classList.contains("u-hidden")&&closeMenu(e,n,t,i,o)}),menuCloseSel(e,n,t,i,o)},resetNavBtn=()=>{const e=document.querySelector(".main-nav__icon--menu"),n=document.querySelector(".main-nav__icon--close");e.classList.contains("u-hidden")&&(n.classList.add("u-hidden"),e.classList.remove("u-hidden"))},resetNav=()=>{const e=document.querySelector(".main-nav"),n=document.querySelector(".main-nav__list");e.classList.remove("animation__menuDown","animation__menuUp"),n.classList.remove("animation__slideDown","animation__slideUp","u-hidden")},handleScreenSize=(e,n=[])=>n=>{const t=n.currentTarget.innerWidth;return 1200!==e&&t>1200?(e<=600&&resetNav(),1200):900!==e&&t>900&&t<=1200?(e<=600&&resetNav(),900):600!==e&&t>600&&t<=900?(e>=900&&(resetNavBtn(),document.querySelector(".main-nav__list").classList.add("u-hidden")),600):0!==e&&t>0&&t<=600?(e>=900&&(resetNavBtn(),document.querySelector(".main-nav__list").classList.add("u-hidden")),0):e},main=()=>{let e=window.innerWidth;const n=new ScrollMagic.Controller;pinNav(n),defineNavLink(n,".main-nav__list",59),defineNavLink(n,".footer__link--scroll",59),defineNavLink(n,".header__btn",59),[...document.querySelectorAll(".h-secondary")].forEach(e=>scrollAnimationSlide(n,e)),controlRespMenu(),window.addEventListener("load",n=>{e=handleScreenSize(e)(n),e<=600&&(resetNavBtn(),document.querySelector(".main-nav__list").classList.add("u-hidden"))}),window.addEventListener("resize",n=>{e=handleScreenSize(e)(n)})};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?main():document.addEventListener("DOMContentLoaded",main);